#include "Map.h"



Map::Map(int numb)
{
	bgptr={								//background of maps
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 },
		{ 4,3,3,3,3,3,3,3,3,3,2,1 } 
	};
	covptr = {							//cover the map
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 },
		{ 9,9,9,9,9,9,9,9,9,9,0,0 }
	};
	if (numb == 1) {
		mapptr = {							//map 1
			{ 0,0,0,0,0,0,0,0,0,0,0,0 },
			{ 0,0,0,0,0,3,3,3,0,0,0,0 },
			{ 0,0,0,1,0,0,0,0,0,0,0,0 },
			{ 0,0,0,0,0,0,3,3,1,0,0,0 },
			{ 0,0,0,1,2,0,0,0,0,0,0,0 },
			{ 0,2,0,2,2,0,0,1,0,0,0,0 },
			{ 0,0,0,0,0,0,0,0,0,0,0,0 },
			{ 0,0,0,0,0,0,0,0,0,1,0,0 },
			{ 0,0,0,0,0,0,1,0,2,0,0,0 },
			{ 0,0,0,0,2,0,2,0,3,1,0,0 },
			{ 2,0,0,0,0,0,2,0,0,0,0,0 },
			{ 2,2,0,2,0,0,2,2,0,1,0,0 },
			{ 0,0,0,1,0,0,0,0,0,0,0,0 },
			{ 0,3,3,3,0,0,0,0,0,3,0,0 },
			{ 0,0,0,0,1,0,0,0,0,0,0,0 },
			{ 0,0,0,2,2,0,2,0,1,0,0,0 },
			{ 0,0,0,0,0,0,0,0,0,3,0,0 },
			{ 0,0,0,0,1,0,2,0,0,0,0,0 },
			{ 0,0,0,2,2,0,2,0,0,1,0,0 },
			{ 0,0,0,2,0,0,0,1,0,0,0,0 },
			{ 0,0,0,1,0,0,0,0,2,1,0,0 },
			{ 0,0,0,0,0,0,0,2,2,0,0,0 },
			{ 0,0,0,0,1,0,0,0,2,0,0,0 },
			{ 0,0,0,0,0,0,0,0,0,0,0,0 },
			{ 0,0,0,0,0,0,0,0,0,0,0,0 }			
		};
	}
	else if (numb == 2) {					//map 2

	}
	else if (numb == 3) {					//map 3

	}
}
void Map::checkcoords(int x, int y)
{
	if (x == 0) {
		left = true;
	}
	if (x == 24) {
		right = true;
	}
	if (y == 0) {
		up = true;
	}
	if (y == 9) {
		down = true;
	}
}
void Map::checkpos(int x, int y)
{
	//int returnstate;
	if ((mapptr[x][y] == 2 || mapptr[x][y] == 3|| mapptr[x][y] == 0)&&covptr[x][y]==9) {
		covptr[x][y] = 0;
	}
	//return returnstate;
}

void Map::update(int x, int y)				//change
{
	left = false;
	right = false;
	up = false;
	down = false;
	checkcoords(x, y);
	if (covptr[x][y] == 9) {
		covptr[x][y] = 0;
	}
	if (down == false) {
		checkpos(x, y + 1);
	}
	if (up == false) {
		checkpos(x, y - 1);
	}

	if (right == false) {
		checkpos(x + 1, y);
		if (down == false) {
			checkpos(x + 1, y + 1);
		}
		if (up == false) {
			checkpos(x + 1, y - 1);
		}
	}
	if (left == false) {
		checkpos(x - 1, y);
		if (down == false) {
			checkpos(x - 1, y + 1);
		}
		if (up == false) {
			checkpos(x - 1, y - 1);
		}
	}
}

int Map::getposdata(int x, int y)
{
	int returnstate;
	if (x < 0 || x>24 || y < 0 || y>11-2) {	//check for accessable area
		returnstate = 1;
	}else
	if (mapptr[x][y]== 2|| mapptr[x][y] == 3) {	//check for walls
		returnstate = 2;
	}else 
	if(mapptr[x][y]== 1) {	//check for mines
		mapptr[x][y] = 0;	//delete mine you stepped on
		returnstate = 3;
	}
	else {
		returnstate = 0;
	}
		return returnstate;
}






Map::~Map()
{
}
